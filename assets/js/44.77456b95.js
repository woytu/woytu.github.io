(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{572:function(t,e,r){"use strict";r.r(e);var n=r(1),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"python爬虫"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#python爬虫"}},[t._v("#")]),t._v(" Python爬虫")]),t._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#flag"}},[t._v("Flag")])]),r("li",[r("a",{attrs:{href:"#开源脚本"}},[t._v("开源脚本")])]),r("li",[r("a",{attrs:{href:"#headlessbrowser"}},[t._v("HeadlessBrowser")]),r("ul",[r("li",[r("a",{attrs:{href:"#chromedriver"}},[t._v("chromedriver")])])])]),r("li",[r("a",{attrs:{href:"#selenium"}},[t._v("selenium")]),r("ul",[r("li",[r("a",{attrs:{href:"#函数或变量"}},[t._v("函数或变量")])])])]),r("li",[r("a",{attrs:{href:"#浏览器下载设置"}},[t._v("浏览器下载设置")]),r("ul",[r("li",[r("a",{attrs:{href:"#打开新标签页"}},[t._v("打开新标签页")])]),r("li",[r("a",{attrs:{href:"#执行javascript"}},[t._v("执行JavaScript")])])])]),r("li",[r("a",{attrs:{href:"#m3u8解析下载解密合并"}},[t._v("m3u8解析下载解密合并")])])])]),r("p"),t._v(" "),r("h2",{attrs:{id:"flag"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#flag"}},[t._v("#")]),t._v(" Flag")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/topics/scraper",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/scraper"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/webscraper",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/webscraper"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/web-scraper",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/web-scraper"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/spider",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/spider"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/webscraper",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/webscraper"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/web-scraper",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/web-scraper"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/crawler",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/crawler"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/webcrawler",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/webcrawler"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/web-crawler",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/web-crawler"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/automation",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/automation"),r("OutboundLink")],1)])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/pyppeteer/pyppeteer",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/pyppeteer/pyppeteer"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/N0taN3rd/chrome-remote-interface-py",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/N0taN3rd/chrome-remote-interface-py"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.csdn.net/wkb342814892/article/details/81591394",target:"_blank",rel:"noopener noreferrer"}},[t._v("xvfb可以将屏幕的图像输出给放到虚拟内存中"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/scrapy/scrapy",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/scrapy/scrapy"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("strong",[r("RouterLink",{attrs:{to:"/Web/#xpath和css选择器"}},[t._v("xpath和css选择器")])],1)]),t._v(" "),r("ul",[r("li",[t._v("批量杀死"),r("code",[t._v("chromedriver")]),t._v("进程")])]),t._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -efww"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LOCAL")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("chromedriver"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -v "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("cut")]),t._v(" -c "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("-15"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" -9\n")])])]),r("div",{staticClass:"language-batch extra-class"},[r("pre",{pre:!0,attrs:{class:"language-batch"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v(":: Windows")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token command"}},[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("taskkill")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("/f")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("/im")]),t._v(" chromedriver.exe")]),t._v("\n")])])]),r("ul",[r("li",[r("a",{attrs:{href:"https://blog.csdn.net/python_neophyte/article/details/82562330",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于网页referer以及破解referer反爬虫的办法"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("ReCaptcha验证码（常见为Google验证码） "),r("a",{attrs:{href:"https://github.com/topics/captcha-solving",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/captcha-solving"),r("OutboundLink")],1),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/teal33t/captcha_bypass",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/teal33t/captcha_bypass"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/NotHassan/Python-Google-Recaptcha-v2-Solver",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/NotHassan/Python-Google-Recaptcha-v2-Solver"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/balanceofprobability/decaptcha",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/balanceofprobability/decaptcha"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/IshanManchanda/pyreCAPTCHA",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/IshanManchanda/pyreCAPTCHA"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/tafalk/recaptcha-token-resolver-function",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/tafalk/recaptcha-token-resolver-function"),r("OutboundLink")],1)])])]),t._v(" "),r("li",[t._v("使用HTTP拦截器来实现cloudflare请求 "),r("a",{attrs:{href:"https://github.com/sayem314/hooman",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sayem314/hooman"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("Hashcat破解队列系统 "),r("a",{attrs:{href:"https://github.com/f0cker/crackq",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/f0cker/crackq"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("电话号码的高级信息收集 "),r("a",{attrs:{href:"https://github.com/sundowndev/PhoneInfoga",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sundowndev/PhoneInfoga"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"开源脚本"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开源脚本"}},[t._v("#")]),t._v(" 开源脚本")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/search?q=%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E7%88%AC%E8%99%AB",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/search?q=微信公众号爬虫"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/search?q=WeChat+Hook",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/search?q=WeChat+Hook"),r("OutboundLink")],1)])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/DropsDevopsOrg/ECommerceCrawlers",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/DropsDevopsOrg/ECommerceCrawlers"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/wnma3mz/wechat_articles_spider",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/wnma3mz/wechat_articles_spider"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/wwg88888888/WeChatExt",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/wwg88888888/WeChatExt"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/KongKong20/WeChatPCHook",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/KongKong20/WeChatPCHook"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/LeLe86/vWeChatCrawl",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/LeLe86/vWeChatCrawl"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://i.ijrou.com/p/story/WeChatDownload.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("WeChatDownload，批量微信公众号文章下载小工具"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://mp.weixin.qq.com/s/WZR4HXwM1PEz4nEeMCejWQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("调试PC端微信内置浏览器"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"http://jioho.gitee.io/blog/%E5%B7%A5%E5%85%B7/%E8%B0%83%E8%AF%95PC%E7%AB%AF%E5%BE%AE%E4%BF%A1%E5%86%85%E7%BD%AE%E6%B5%8F%E8%A7%88%E5%99%A8.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("调试PC端微信内置浏览器"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.cn/post/6844904082314887182",target:"_blank",rel:"noopener noreferrer"}},[t._v('"调戏" 微信PC端浏览器内置浏览器'),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/small-step/mikasa-wechat",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/small-step/mikasa-wechat"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/cixingguangming55555/wechat-bot",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/cixingguangming55555/wechat-bot"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("strong",[t._v("签到")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/Sitoi/dailycheckin",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Sitoi/dailycheckin"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/BlueSkyClouds/My-Actions",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/BlueSkyClouds/My-Actions"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/mengshouer/CheckinBox",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/mengshouer/CheckinBox"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/leecobaby/shortcuts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/leecobaby/shortcuts"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/Wenmoux/checkbox",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Wenmoux/checkbox"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("strong",[t._v("京东")])]),t._v(" "),r("ul",[r("li",[t._v("京东茅台抢购 "),r("a",{attrs:{href:"https://github.com/search?q=jd_maotai",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/search?q=jd_maotai"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/search?q=%E8%8C%85%E5%8F%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/search?q=茅台"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("京东签到 "),r("a",{attrs:{href:"https://github.com/ruicky/jd_sign_bot",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ruicky/jd_sign_bot"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/ZainCheung/helper-618",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ZainCheung/helper-618"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/tychxn/jd-assistant",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/tychxn/jd-assistant"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/xuess/puppeteer-sign",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/xuess/puppeteer-sign"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/zqjzqj/mtSecKill",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/zqjzqj/mtSecKill"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/Yx1aoq1/jdms",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Yx1aoq1/jdms"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/shylocks/Loon",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/shylocks/Loon"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/LXK9301/jd_scripts/tree/master",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/LXK9301/jd_scripts/tree/master"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/NobyDa/Script/tree/master",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/NobyDa/Script/tree/master"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/yangtingxiao/QuantumultX",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/yangtingxiao/QuantumultX"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/chavyleung/scripts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/chavyleung/scripts"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/inoyna11/jd28",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/inoyna11/jd28"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/Tsukasa007/my_script",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Tsukasa007/my_script"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/zero205/JD_tencent_scf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/zero205/JD_tencent_scf"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/shufflewzc/faker2",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/shufflewzc/faker2"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/smiek2221/scripts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/smiek2221/scripts"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/Aaron-lv/sync",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Aaron-lv/sync"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("strong",[t._v("联通")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/ailiksr/39shouting",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ailiksr/39shouting"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/srcrs/UnicomTask",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/srcrs/UnicomTask"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/mixool/HiCnUnicom",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/mixool/HiCnUnicom"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/hzys/HiCnUnicom",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/hzys/HiCnUnicom"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/ChuJian2/AutoSignMachine",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ChuJian2/AutoSignMachine"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"headlessbrowser"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#headlessbrowser"}},[t._v("#")]),t._v(" HeadlessBrowser")]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v("Headless Browser")]),t._v("(无头的浏览器)是没有图形用户界面(GUI)的web浏览器，通常是通过编程或命令行界面来控制的")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/topics/webdriver",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/webdriver"),r("OutboundLink")],1)])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://w3c.github.io/webdriver",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://w3c.github.io/webdriver"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.jianshu.com/p/11d519e2d0cb",target:"_blank",rel:"noopener noreferrer"}},[t._v("Headless Browser"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/mozilla/geckodriver",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/mozilla/geckodriver"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/headless-browser",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/headless-browser"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("strong",[t._v("反爬虫")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/intoli/intoli-article-materials",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/intoli/intoli-article-materials"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://intoli.com/blog/not-possible-to-block-chrome-headless/chrome-headless-test.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("无头浏览器检测"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://mlln.cn/2019/07/05/%E7%88%AC%E8%99%AB%E5%A6%82%E4%BD%95%E9%9A%90%E8%97%8FHeadles-Chrome%E4%B8%8D%E8%A2%AB%E6%A3%80%E6%B5%8B%E5%87%BA%E6%9D%A5",target:"_blank",rel:"noopener noreferrer"}},[t._v("隐藏Headles-Chrome不被检测出来"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"chromedriver"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#chromedriver"}},[t._v("#")]),t._v(" chromedriver")]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v("Selenium")]),t._v("操作"),r("code",[t._v("Chrome")]),t._v("浏览器需要有"),r("code",[t._v("ChromeDriver")]),t._v("驱动来协助，"),r("code",[t._v("ChromeDriver")]),t._v("与"),r("code",[t._v("Chrome")]),t._v("版本对应关系一定要正确")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://chromedriver.storage.googleapis.com/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://chromedriver.storage.googleapis.com/index.html"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"http://npm.taobao.org/mirrors/chromedriver",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://npm.taobao.org/mirrors/chromedriver"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://npm.taobao.org/mirrors/chromium-browser-snapshots",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://npm.taobao.org/mirrors/chromium-browser-snapshots"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://developers.google.com/web/updates/2017/04/headless-chrome",target:"_blank",rel:"noopener noreferrer"}},[t._v("headless-chrome官方文档"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://sites.google.com/a/chromium.org/chromedriver/capabilities",target:"_blank",rel:"noopener noreferrer"}},[t._v("功能和ChromeOptions官方网站参考"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("strong",[t._v("参数列表")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://peter.sh/experiments/chromium-command-line-switches",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://peter.sh/experiments/chromium-command-line-switches/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://cs.chromium.org/chromium/src/content/public/common/content_switches.cc",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cs.chromium.org/chromium/src/content/public/common/content_switches.cc"),r("OutboundLink")],1)])]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("参数")]),t._v(" "),r("th",[t._v("说明")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("-blink-settings=imagesEnabled=false")]),t._v(" "),r("td",[t._v("不加载图片, 此方式只针对单个标签页")])]),t._v(" "),r("tr",[r("td",[t._v("-bookmark-menu")]),t._v(" "),r("td",[t._v("在工具 栏增加一个书签按钮")])]),t._v(" "),r("tr",[r("td",[t._v("-default-browser-check")]),t._v(" "),r("td",[t._v("不检查默认浏览器")])]),t._v(" "),r("tr",[r("td",[t._v("-disable-extensions")]),t._v(" "),r("td",[t._v("禁用扩展")])]),t._v(" "),r("tr",[r("td",[t._v("-disable-gpu")]),t._v(" "),r("td",[t._v("关闭gpu,服务器一般没有显卡")])]),t._v(" "),r("tr",[r("td",[t._v("-disable-images")]),t._v(" "),r("td",[t._v('禁用图像，建议使用"profile.managed_default_content_settings.images":2')])]),t._v(" "),r("tr",[r("td",[t._v("-disable-java")]),t._v(" "),r("td",[t._v("禁用java")])]),t._v(" "),r("tr",[r("td",[t._v("-disable-javascript")]),t._v(" "),r("td",[t._v("禁用Javascript")])]),t._v(" "),r("tr",[r("td",[t._v("-disable-plugins")]),t._v(" "),r("td",[t._v("禁止加载所有插件。可以通过about:plugins页面查看效果")])]),t._v(" "),r("tr",[r("td",[t._v("-disable-popup-blocking")]),t._v(" "),r("td",[t._v("禁用弹出拦截")])]),t._v(" "),r("tr",[r("td",[t._v("-disable-software-rasterizer")]),t._v(" "),r("td",[t._v("禁用浏览器应用")])]),t._v(" "),r("tr",[r("td",[t._v('-disk-cache-dir="[PATH]"')]),t._v(" "),r("td",[t._v("指定缓存Cache路径")])]),t._v(" "),r("tr",[r("td",[t._v("-disk-cache-size=")]),t._v(" "),r("td",[t._v("指定Cache大小，单位Byte")])]),t._v(" "),r("tr",[r("td",[t._v("-enable-sync")]),t._v(" "),r("td",[t._v("启用书签同步")])]),t._v(" "),r("tr",[r("td",[t._v("-enable-udd-profiles")]),t._v(" "),r("td",[t._v("启用账户切换菜单")])]),t._v(" "),r("tr",[r("td",[t._v("-first run")]),t._v(" "),r("td",[t._v("重置到初始状态，第一次运行")])]),t._v(" "),r("tr",[r("td",[t._v("-headless")]),t._v(" "),r("td",[t._v("不开启图像界面")])]),t._v(" "),r("tr",[r("td",[t._v("-hide-scrollbars")]),t._v(" "),r("td",[t._v("隐藏滚动条, 应对一些特殊页面")])]),t._v(" "),r("tr",[r("td",[t._v("-ignore-certificate-errors")]),t._v(" "),r("td",[t._v("忽略证书错误")])]),t._v(" "),r("tr",[r("td",[t._v("-incognito")]),t._v(" "),r("td",[t._v("隐身模式启动")])]),t._v(" "),r("tr",[r("td",[t._v("-in-process-plugins")]),t._v(" "),r("td",[t._v("插件不以独立的进程运行，插件的异常崩溃，可能会导致整个页面挂掉")])]),t._v(" "),r("tr",[r("td",[t._v("-lang=zh-CN")]),t._v(" "),r("td",[t._v("设置语言为简体中文")])]),t._v(" "),r("tr",[r("td",[t._v("-media-cache-size")]),t._v(" "),r("td",[t._v("自定义多媒体缓存最大值（单位byte）")])]),t._v(" "),r("tr",[r("td",[t._v("-no-first-run")]),t._v(" "),r("td",[t._v("第一次不运行")])]),t._v(" "),r("tr",[r("td",[t._v("-no-sandbox")]),t._v(" "),r("td",[t._v("不开启沙盒模式可以减少对服务器的资源消耗,但是服务器安全性降低")])]),t._v(" "),r("tr",[r("td",[t._v('-omnibox-popup-count="num"')]),t._v(" "),r("td",[t._v("将地址栏弹出的提示菜单数量改为num个。我都改为15个了。")])]),t._v(" "),r("tr",[r("td",[t._v("-process-per-site")]),t._v(" "),r("td",[t._v("每个站点使用单独进程")])]),t._v(" "),r("tr",[r("td",[t._v("-process-per-tab")]),t._v(" "),r("td",[t._v("每个标签使用单独进程")])]),t._v(" "),r("tr",[r("td",[t._v("-proxy-pac-url")]),t._v(" "),r("td",[t._v("指定使用PAC代理时，所需要的脚本url地址")])]),t._v(" "),r("tr",[r("td",[t._v("-remote-debugging-address")]),t._v(" "),r("td",[t._v("远程调试地址 0.0.0.0 可以外网调用但是安全性低,建议使用默认值 127.0.0.1")])]),t._v(" "),r("tr",[r("td",[t._v("-remote-debugging-port")]),t._v(" "),r("td",[t._v("chrome-debug工具的端口(golang chromepd 默认端口是9222,建议不要修改)")])]),t._v(" "),r("tr",[r("td",[t._v("-single-process")]),t._v(" "),r("td",[t._v("浏览器只能以单进程运行，通常用于调试，定位bug")])]),t._v(" "),r("tr",[r("td",[t._v("-start-maximized")]),t._v(" "),r("td",[t._v("浏览器启动后，窗口默认为最大化")])]),t._v(" "),r("tr",[r("td",[t._v('-user-agent=""')]),t._v(" "),r("td",[t._v("修改HTTP请求头部的Agent字符串，可以通过about:version页面查看修改效果")])]),t._v(" "),r("tr",[r("td",[t._v('-user-data-dir="[PATH]"')]),t._v(" "),r("td",[t._v("指定用户文件夹User Data路径。")])]),t._v(" "),r("tr",[r("td",[t._v('-window-size="1600x900"')]),t._v(" "),r("td",[t._v("窗口尺寸")])])])]),t._v(" "),r("h2",{attrs:{id:"selenium"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#selenium"}},[t._v("#")]),t._v(" selenium")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/topics/selenium",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/selenium"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/topics/testing",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/testing"),r("OutboundLink")],1)])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/SeleniumHQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SeleniumHQ"),r("OutboundLink")],1),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://selenium.dev/documentation/zh-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://selenium.dev/documentation/zh-cn"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://selenium-python-zh.readthedocs.io/en/latest/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Selenium with Python中文翻译文档"),r("OutboundLink")],1)])])]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/seleniumbase",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/seleniumbase"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"http://qzmvc1.top/Python3-Selenium%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python3-Selenium开启自动化测试"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.twblogs.net/a/5c8414bdbd9eee35cd69c929/zh-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("python+selenium 判断元素是否存在，是否可点击，是否被选中"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.jianshu.com/p/a94918d49c3c",target:"_blank",rel:"noopener noreferrer"}},[t._v("EC：expected_conditions判断页面元素"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://rumenz.com/rumenbiji/python3-selenium-scrollToBottom.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("selenium,Python3滚动到页面底部的几种解决方案"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.yuanrenxue.com/python-selenium",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python Selenium教程 - 猿人学Python"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"函数或变量"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#函数或变量"}},[t._v("#")]),t._v(" 函数或变量")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("函数或变量")]),t._v(" "),r("th",[t._v("说明")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("def file_detector_context(self, file_detector_class, *args, **kwargs):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def mobile(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def name(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def start_client(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def stop_client(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def start_session(self, capabilities, browser_profile=None):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def create_web_element(self, element_id):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def execute(self, driver_command, params=None):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get(self, url):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def title(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_id(self, id_):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_id(self, id_):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_xpath(self, xpath):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_xpath(self, xpath):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_link_text(self, link_text):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_link_text(self, text):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_partial_link_text(self, link_text):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_partial_link_text(self, link_text):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_name(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_name(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_tag_name(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_tag_name(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_class_name(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_class_name(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element_by_css_selector(self, css_selector):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements_by_css_selector(self, css_selector):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def execute_script(self, script, *args):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def execute_async_script(self, script, *args):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def current_url(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def page_source(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def close(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def quit(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def current_window_handle(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def window_handles(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def maximize_window(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def fullscreen_window(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def minimize_window(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def switch_to(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def switch_to_active_element(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def switch_to_window(self, window_name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def switch_to_frame(self, frame_reference):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def switch_to_default_content(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def switch_to_alert(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def back(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def forward(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def refresh(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_cookies(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_cookie(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def delete_cookie(self, name):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def delete_all_cookies(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def add_cookie(self, cookie_dict):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def implicitly_wait(self, time_to_wait):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def set_script_timeout(self, time_to_wait):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def set_page_load_timeout(self, time_to_wait):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_element(self, by=By.ID, value=None):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def find_elements(self, by=By.ID, value=None):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def desired_capabilities(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_screenshot_as_file(self, filename):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def save_screenshot(self, filename):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_screenshot_as_png(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_screenshot_as_base64(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def set_window_size(self, width, height, windowHandle='current'):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_window_size(self, windowHandle='current'):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def set_window_position(self, x, y, windowHandle='current'):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_window_position(self, windowHandle='current'):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_window_rect(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def set_window_rect(self, x=None, y=None, width=None, height=None):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def file_detector(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def file_detector(self, detector):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def orientation(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def orientation(self, value):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def application_cache(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def log_types(self):")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",[t._v("def get_log(self, log_type):")]),t._v(" "),r("td")])])]),t._v(" "),r("h2",{attrs:{id:"浏览器下载设置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浏览器下载设置"}},[t._v("#")]),t._v(" 浏览器下载设置")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/SeleniumHQ/selenium/issues/5722",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SeleniumHQ/selenium/issues/5722"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/SeleniumHQ/selenium/issues/5159",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SeleniumHQ/selenium/issues/5159"),r("OutboundLink")],1)])]),t._v(" "),r("div",{staticClass:"language-python extra-class"},[r("pre",{pre:!0,attrs:{class:"language-python"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 向Selenium Webwdriver添加对Chrome "send_command"的支持')]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("command_executor"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_commands"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_command"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/session/$sessionId/chromium/send_command'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# allow自动、deny禁止、default默认")]),t._v("\nparams "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cmd'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Page.setDownloadBehavior'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'params'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'behavior'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deny'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'downloadPath'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:\\\\"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_command"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("div",{staticClass:"language-python extra-class"},[r("pre",{pre:!0,attrs:{class:"language-python"}},[r("code",[t._v("driver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute_cdp_cmd"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Page.setDownloadBehavior"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'behavior'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deny'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'downloadPath'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:\\\\"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("h3",{attrs:{id:"打开新标签页"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#打开新标签页"}},[t._v("#")]),t._v(" 打开新标签页")]),t._v(" "),r("div",{staticClass:"language-python extra-class"},[r("pre",{pre:!0,attrs:{class:"language-python"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取主窗口句柄")]),t._v("\nmain_window "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" driver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current_window_handle\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过执行js打开新标签页并访问url")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute_script"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string-interpolation"}},[r("span",{pre:!0,attrs:{class:"token string"}},[t._v("f\"window.open('")]),r("span",{pre:!0,attrs:{class:"token interpolation"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("url"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("')\"")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在新选项卡中打开空白页面")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#driver.execute_script(f\"window.open('','_blank')\")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取当前所有窗口句柄（窗口A、B），并切换到新标签页")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("switch_to"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("driver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window_handles"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 访问url")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#driver.get(url)")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭当前窗口。")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭新选项卡后回到主窗口，必须做这一步，否则会引发错误")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("switch_to"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main_window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("p",[r("strong",[t._v("使用组合键")])]),t._v(" "),r("blockquote",[r("p",[t._v("该方式在Chrome下无效")])]),t._v(" "),r("blockquote",[r("p",[t._v("在增加了设置下载路径代码后，无法打开新标签页，但是捕获到的handler是两个，可以进行切换，只是没有切换动态效果了，实际是切换了的")])]),t._v(" "),r("blockquote",[r("p",[r("code",[t._v("OSX")]),t._v("操作系统通过组合键"),r("kbd",[t._v("COMMAND")]),t._v(" + "),r("kbd",[t._v("T")]),t._v("或"),r("kbd",[t._v("COMMAND")]),t._v(" + "),r("kbd",[t._v("W")]),t._v("来实现选项卡的打开/关闭")])]),t._v(" "),r("blockquote",[r("p",[t._v("在其他操作系统上，可以使用"),r("kbd",[t._v("CONTROL")]),t._v(" + "),r("kbd",[t._v("T")]),t._v(" / "),r("kbd",[t._v("CONTROL")]),t._v(" + "),r("kbd",[t._v("W")])])]),t._v(" "),r("div",{staticClass:"language-python extra-class"},[r("pre",{pre:!0,attrs:{class:"language-python"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# windows 用Keys.CONTROL 如同ctrl+t打开新标签页")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find_element_by_tag_name"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_keys"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Keys"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CONTROL "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'t'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# <CTRL> + <T>通过Action链发送")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# ActionChains(driver).key_down(Keys.CONTROL).send_keys("t").key_up(Keys.CONTROL).perform()')]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取当前所有窗口句柄（窗口A、B），并切换到新标签页")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("switch_to"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("driver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window_handles"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 访问url")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# windows 用Keys.CONTROL 如同ctrl+w关闭标签页")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#driver.find_element_by_tag_name('body').send_keys(Keys.CONTROL + 'w')")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭当前窗口。")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("h3",{attrs:{id:"执行javascript"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#执行javascript"}},[t._v("#")]),t._v(" 执行JavaScript")]),t._v(" "),r("div",{staticClass:"language-python extra-class"},[r("pre",{pre:!0,attrs:{class:"language-python"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过 js 移动到最下")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute_script"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"var q=document.documentElement.scrollTop=10000"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过 js 返回所有html")]),t._v("\ndriver"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute_script"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"return document.documentElement.outerHTML"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),r("h2",{attrs:{id:"m3u8解析下载解密合并"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#m3u8解析下载解密合并"}},[t._v("#")]),t._v(" m3u8解析下载解密合并")]),t._v(" "),r("blockquote",[r("p",[t._v("M3U8有两层：第一层存放的是流信息（EXT-X-STREAM-INF）和第二层的下载链接，第二层才是存放加密（EXT-X-KEY）和"),r("code",[t._v("ts")]),t._v("文件的下载地址")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/globocom/m3u8",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/globocom/m3u8"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.jianshu.com/p/2a5403234b14",target:"_blank",rel:"noopener noreferrer"}},[t._v("什么是m3u8文件"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.junmajinlong.com/others/ts_m3u8",target:"_blank",rel:"noopener noreferrer"}},[t._v("加密的ts+m3u8合并"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.cnblogs.com/String-Lee/p/11391893.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于m3u8格式的视频文件ts转mp4下载和key加密问题"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://gist.github.com/larvata/95df619df7109d8b74d2b965a3266354",target:"_blank",rel:"noopener noreferrer"}},[t._v("将TS转换为MP4"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=s.exports}}]);