(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{596:function(s,t,a){"use strict";a.r(t);var e=a(1),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux配置"}},[s._v("#")]),s._v(" Linux配置")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#源码安装卸载软件"}},[s._v("源码安装卸载软件")]),a("ul",[a("li",[a("a",{attrs:{href:"#checkinstall"}},[s._v("checkinstall")])])])]),a("li",[a("a",{attrs:{href:"#初次配置"}},[s._v("初次配置")]),a("ul",[a("li",[a("a",{attrs:{href:"#修改时区为亚洲上海"}},[s._v("修改时区为亚洲上海")])]),a("li",[a("a",{attrs:{href:"#查看系统语言"}},[s._v("查看系统语言")])]),a("li",[a("a",{attrs:{href:"#安装简体中文语言包"}},[s._v("安装简体中文语言包")])]),a("li",[a("a",{attrs:{href:"#设置中文utf8编码"}},[s._v("设置中文utf8编码")])]),a("li",[a("a",{attrs:{href:"#设置vim"}},[s._v("设置VIM")])]),a("li",[a("a",{attrs:{href:"#ssh会话执行文件"}},[s._v("SSH会话执行文件")])]),a("li",[a("a",{attrs:{href:"#ssh欢迎信息"}},[s._v("ssh欢迎信息")])])])]),a("li",[a("a",{attrs:{href:"#开机启动"}},[s._v("开机启动")])]),a("li",[a("a",{attrs:{href:"#修改为root登录"}},[s._v("修改为root登录")])]),a("li",[a("a",{attrs:{href:"#物理资源占用"}},[s._v("物理资源占用")])])])]),a("p"),s._v(" "),a("h1",{attrs:{id:"flag"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flag"}},[s._v("#")]),s._v(" Flag")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.kernel.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.kernel.org"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("各个版本控件支持库 "),a("a",{attrs:{href:"https://pkgs.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pkgs.org"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("软件包管理器 "),a("a",{attrs:{href:"https://github.com/NixOS/nix",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/NixOS/nix"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("编译嵌入式 "),a("a",{attrs:{href:"https://github.com/buildroot/buildroot",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/buildroot/buildroot"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("服务器音频播放器 "),a("a",{attrs:{href:"https://github.com/badaix/snapcast",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/badaix/snapcast"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("桌面 "),a("a",{attrs:{href:"https://github.com/kernelslacker/trinity",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/kernelslacker/trinity"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://kde.org/zh-cn/plasma-desktop",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kde.org/zh-cn/plasma-desktop"),a("OutboundLink")],1)])]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/littlekernel/lk",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/littlekernel/lk"),a("OutboundLink")],1),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://yiiyee.cn/blog/2019/08/28/lk1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Little Kernel 代码走读（一） – 易也技术"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dahliaOS/fimage",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/dahliaOS/fimage"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://fuchsia.fsf.org.cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://fuchsia.fsf.org.cn"),a("OutboundLink")],1)])])])]),s._v(" "),a("h2",{attrs:{id:"源码安装卸载软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码安装卸载软件"}},[s._v("#")]),s._v(" 源码安装卸载软件")]),s._v(" "),a("blockquote",[a("p",[s._v("编译时的路径如果指定了"),a("code",[s._v("--prefix /usr/local/xxx")]),s._v(" 直接"),a("code",[s._v("rm -rf /usr/local/xxx")]),s._v("即可。")]),s._v(" "),a("p",[s._v("没指定路径，那就到源码路径执行make uninstall，如果最初的编译文件夹被删除了，还可以重新下载、编译，然后删除")])]),s._v(" "),a("p",[a("strong",[s._v("如果源码被删除就查找并删除")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" / -name 软件名称\n")])])]),a("h3",{attrs:{id:"checkinstall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checkinstall"}},[s._v("#")]),s._v(" checkinstall")]),s._v(" "),a("blockquote",[a("p",[s._v("通过"),a("code",[s._v("checkinstall")]),s._v("管理编译安装过程")])]),s._v(" "),a("p",[a("strong",[s._v("使用"),a("code",[s._v("checkinstall")]),s._v("编译安装")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\ncheckinstall\n")])])]),a("ul",[a("li",[s._v("CheckInstall会完成以下任务")])]),s._v(" "),a("ol",[a("li",[s._v("调用"),a("code",[s._v("make install")]),s._v("，然后用"),a("code",[s._v("installwatch")]),s._v("监视、记录整个安装过程中添加的文件")]),s._v(" "),a("li",[s._v("等到安装完成，把记录的文件打包，根据不同的系统创建安装包："),a("code",[s._v(".rpm")]),s._v("或"),a("code",[s._v(".deb")]),s._v(" "),a("ul",[a("li",[s._v("注：安装包会保存在源代码目录，以便复制到其它机器安装，省去重复编译的麻烦。")])])]),s._v(" "),a("li",[s._v("移除"),a("code",[s._v("make install")]),s._v("安装的文件")]),s._v(" "),a("li",[s._v("调用系统安装工具来安装第2步创建的安装包："),a("code",[s._v("rpm -i")]),s._v("或"),a("code",[s._v("dpkg -i")])])]),s._v(" "),a("p",[a("strong",[s._v("卸载"),a("code",[s._v("checkinstall")]),s._v("安装的软件")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("CentOS: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e package_name\nUbuntu: dpkg -r package_name\n")])])]),a("h2",{attrs:{id:"初次配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初次配置"}},[s._v("#")]),s._v(" 初次配置")]),s._v(" "),a("h3",{attrs:{id:"修改时区为亚洲上海"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改时区为亚洲上海"}},[s._v("#")]),s._v(" 修改时区为亚洲上海")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])])]),a("h3",{attrs:{id:"查看系统语言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统语言"}},[s._v("#")]),s._v(" 查看系统语言")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看系统当前使用语言包")]),s._v("\nlocale\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看系统拥有语言包")]),s._v("\nlocale -a\n")])])]),a("h3",{attrs:{id:"安装简体中文语言包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装简体中文语言包"}},[s._v("#")]),s._v(" 安装简体中文语言包")]),s._v(" "),a("blockquote",[a("p",[s._v("如果没有zh_CN.utf8就需要安装简体中文语言包")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kde-l10n-Chinese\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#glibc-common软件包包括用于GNU libc库的常见二进制文件，以及国家语言（locale）支持。")]),s._v("\nyum -y reinstall glibc-common\nyum -y groupinstall chinese-support\n")])])]),a("h3",{attrs:{id:"设置中文utf8编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置中文utf8编码"}},[s._v("#")]),s._v(" 设置中文utf8编码")]),s._v(" "),a("p",[a("strong",[s._v("临时")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.UTF-8\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANGUAGE")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.UTF-8\n")])])]),a("p",[a("strong",[s._v("长久")])]),s._v(" "),a("ul",[a("li",[s._v("CenOS7修改"),a("code",[s._v("vi /etc/locale.conf")])]),s._v(" "),a("li",[s._v("CentOS6修改"),a("code",[s._v("vi /etc/sysconfig/i18n")])]),s._v(" "),a("li",[s._v("Ubuntu修改"),a("code",[s._v("vi /etc/default/locale")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qu_learner/article/details/104030765",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu修改编码格式为中文"),a("OutboundLink")],1)])])])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.utf8"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANGUAGE")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.UTF-8:zh_CN.utf8:zh_CN"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUPPORTED")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh_CN.utf8:zh_CN:zh:en_US.utf8:en_US:en"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SYSFONT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lat0-sun16"')]),s._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("localectl set-locale "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.utf8\n")])])]),a("h3",{attrs:{id:"设置vim"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置vim"}},[s._v("#")]),s._v(" 设置VIM")]),s._v(" "),a("p",[a("strong",[s._v("解决中文乱码问题")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/vim/vimrc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在开头或者末尾添加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fileencodings")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf-8,gbk,utf-16le,cp1252,iso-8859-15,ucs-bom\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("termencoding")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf-8\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("encoding")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf-8\n")])])]),a("p",[a("strong",[s._v("显示行号")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/vimrc\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/virc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在开头或者末尾添加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" number\n")])])]),a("h3",{attrs:{id:"ssh会话执行文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh会话执行文件"}},[s._v("#")]),s._v(" SSH会话执行文件")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("vi /etc/motd")]),s._v("这个文件，可以在里面加入自己喜欢的任何欢迎信息，这段信息将会在登录成功后显示！")]),s._v(" "),a("li",[a("code",[s._v("/etc/profile")]),s._v("中设定的变量(全局)的可以作用于任何用户,")]),s._v(" "),a("li",[a("code",[s._v("/.bashrc")]),s._v("设定的变量(局部)只能继承"),a("code",[s._v("/etc/profile")]),s._v("中的变量,他们是”父子”关系")])]),s._v(" "),a("blockquote",[a("p",[s._v("为每一个运行bash shell的用户执行此文件.当bash shell被打开时, 该文件被读取（即每次新开一个终端，都会执行bashrc）。")]),s._v(" "),a("p",[s._v("只要在同一个shell界面，不管多少用户登录都只执行一次")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile\n")])])]),a("blockquote",[a("p",[s._v("此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行. 并从"),a("code",[s._v("/etc/profile.d")]),s._v("目录的配置文件中搜集shell的设置。")]),s._v(" "),a("p",[s._v("如果进入shell用普通用户登录后，再用su进入root用户那么将会被执行两次")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/bashrc\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当root用户登录时执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.bash_profile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当每次root用户退出系统(退出bash shell)时,执行该文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.bash_logout\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当root用户登录时以及每次打开新的shell时,该该文件被读取。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /root/.bashrc\n")])])]),a("h3",{attrs:{id:"ssh欢迎信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh欢迎信息"}},[s._v("#")]),s._v(" ssh欢迎信息")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/taills/sysinfo",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/taills/sysinfo"),a("OutboundLink")],1)])]),s._v(" "),a("blockquote",[a("p",[s._v("输入"),a("kbd",[s._v("shift")]),s._v(" + "),a("kbd",[s._v("g")]),s._v("（就是大写的"),a("code",[s._v("G")]),s._v("）跳转到末尾添加以下内容")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看系统发行版信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/PRETTY_NAME=//gp'")]),s._v(" /etc/os-release\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询内核版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/version\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询目前所有文件系统的可用空间及使用情形")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询内存使用情况")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" -h\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'=========================================================='")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到home文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看系统发行版信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/*release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/os-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/lib/os-release\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出NAME和VERSION")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/os-release "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PRETTY_NAME")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/PRETTY_NAME=//gp'")]),s._v(" /etc/os-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/os-release "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" ^PRETTY_NAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出NAME部分")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/PRETTY_NAME/ s/^.*=\\|\"\\| .*//gp'")]),s._v(" /etc/os-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/os-release "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PRETTY_NAME"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/PRETTY_NAME=//g'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/[\"]//g'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $1}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/issue\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/issue.net\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询内核版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/version\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/sys/kernel/ostype /proc/sys/kernel/osrelease\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dmesg")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Linux version'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -sr\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看cpu相关信息（型号、主频、内核）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo\n")])])]),a("h2",{attrs:{id:"开机启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开机启动"}},[s._v("#")]),s._v(" 开机启动")]),s._v(" "),a("p",[a("strong",[s._v("添加命令到"),a("code",[s._v("/etc/rc.local")]),s._v("文件末尾")])]),s._v(" "),a("blockquote",[a("p",[s._v("编辑"),a("code",[s._v("/etc/rc.local")]),s._v("或者"),a("code",[s._v("/etc/rc.d/rc.local")]),s._v("（前者是后者的软连接）文件，\n按"),a("kbd",[s._v("Shift")]),s._v(" + "),a("kbd",[s._v("g")]),s._v("（就是大写的G）跳转到末尾添加运行命令")]),s._v(" "),a("blockquote",[a("p",[s._v("执行的程序需要写绝对路径，添加到系统环境变量的除外")])])]),s._v(" "),a("blockquote",[a("p",[s._v("为防止启动执行失败，最好执行一次"),a("code",[s._v("chmod +x /etc/rc.d/rc.local")]),s._v("进行授权")])]),s._v(" "),a("p",[a("strong",[s._v("crontab")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -e\n@reboot 运行程序命令\n")])])]),a("p",[a("strong",[s._v("脚本文件放在"),a("code",[s._v("/etc/profile.d/")]),s._v("目录下")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("chkconfig")])])]),s._v(" "),a("ol",[a("li",[s._v("创建软连接或者复制脚本到"),a("code",[s._v("/etc/init.d/")]),s._v("或者"),a("code",[s._v("/etc/rc.d/init.d/")]),s._v("（前者是后者的软连接）下")])]),s._v(" "),a("blockquote",[a("p",[s._v("注意脚本文件开头一定要添加以下几行代码，否侧会提示"),a("code",[s._v("chkconfig")]),s._v("不支持")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - 64 36 分别代表运行级别，启动优先权，关闭优先权")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chkconfig: - 64 36")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# description: Supervisor Server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# processname: supervisord")]),s._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("添加启动项")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --add 脚本名\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" 脚本名 on\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("检查是否设置成功")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" 脚本名\n")])])]),a("h2",{attrs:{id:"修改为root登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改为root登录"}},[s._v("#")]),s._v(" 修改为root登录")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重置root密码，其他账户都一样按此方法修改root为指定账户即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" root\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" root:密码 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chpasswd root\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到root账号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -i\n")])])]),a("p",[a("strong",[s._v("修改sshd_config中的参数")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑sshd_config文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/ssh/sshd_config\n")])])]),a("ul",[a("li",[a("code",[s._v("PermitRootLogin")]),s._v(" 修改为"),a("code",[s._v("yes")])]),s._v(" "),a("li",[a("code",[s._v("PasswordAuthentication")]),s._v(" 修改为"),a("code",[s._v("yes")])])]),s._v(" "),a("p",[a("strong",[s._v("或者执行命令直接修改")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -r 支持扩展表达式，-i 直接修改文件内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^#\\?PermitRootLogin.*/PermitRootLogin yes/g'")]),s._v(" /etc/ssh/sshd_config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -ri "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^#?(PasswordAuthentication)\\s+(yes|no)/\\1 yes/'")]),s._v(" /etc/ssh/sshd_config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改authorized_keys文件（即ssh证书），把ssh-rsa之前的内容都删除掉")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -ri "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^/#/;s/sleep 10\"\\s+/&\\n/'")]),s._v(" /root/.ssh/authorized_keys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[a("strong",[s._v("重启ssh")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd restart\n")])])]),a("h2",{attrs:{id:"物理资源占用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#物理资源占用"}},[s._v("#")]),s._v(" 物理资源占用")]),s._v(" "),a("blockquote",[a("p",[s._v("各Linux服务器主流发行版物理资源占用（磁盘和内存），"),a("code",[s._v("df -h && free -h")])])]),s._v(" "),a("ul",[a("li",[s._v("CentOS 7.6 64位")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Filesystem      Size  Used Avail Use% Mounted on\ndevtmpfs        485M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  485M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs           496M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  496M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev/shm\ntmpfs           496M  424K  496M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /run\ntmpfs           496M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  496M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\n/dev/vda1        50G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".8G   46G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("% /\ntmpfs           100M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  100M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/0\n\n              total        used        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           991M         68M        631M        428K        290M        787M\nSwap:            0B          0B          0B\n")])])]),a("ul",[a("li",[s._v("Debian 9.0 64位")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Filesystem      Size  Used Avail Use% Mounted on\nudev            424M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  424M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs            87M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".8M   86M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("% /run\n/dev/vda1        50G  923M   46G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("% /\ntmpfs           435M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  435M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev/shm\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".0M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".0M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/lock\ntmpfs           435M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  435M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\ntmpfs            87M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   87M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/0\n\n              total        used        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           868M         32M        734M        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".8M        101M        717M\nSwap:            0B          0B          0B\n")])])]),a("ul",[a("li",[s._v("Ubuntu Server 18.04.1 LTS 64位")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Filesystem      Size  Used Avail Use% Mounted on\nudev            462M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  462M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs            99M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".2M   94M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("% /run\n/dev/vda1        50G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".3G   45G   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("% /\ntmpfs           493M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  493M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev/shm\ntmpfs           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".0M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".0M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/lock\ntmpfs           493M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  493M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\ntmpfs            99M     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   99M   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/500\n\n              total        used        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           985M         95M        355M        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".1M        533M        743M\nSwap:            0B          0B          0B\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);